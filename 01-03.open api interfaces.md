# 开放接口
> Kubernetes作为云原生应用的基础调度平台，相当于云原生的操作系统，为了便于系统的扩展，Kubernetes中开放的以下接口，可以分别对接不同的后端，来实现自己的业务逻辑：   
> > 1. CRI（Container Runtime Interface）：容器运行时接口，提供计算资源   
> > 2. CNI（Container Network Interface）：容器网络接口，提供网络资源   
> > 3. CSI（Container Storage Interface）：容器存储接口，提供存储资源   
> 以上三种资源相当于一个分布式操作系统的最基础的几种资源类型，而Kuberentes是将他们粘合在一起的纽带。   
![open-interfaces](./images/open-interfaces.jpg)

## CRI - Container Runtime Interface（容器运行时接口）
> CRI中定义了容器和镜像的服务的接口，因为容器运行时与镜像的生命周期是彼此隔离的，因此需要定义两个服务。该接口使用[Protocol Buffer](https://developers.google.com/protocol-buffers/)，基于[gRPC](https://grpc.io/)，在Kubernetes v1.10+版本中是在[pkg/kubelet/apis/cri/runtime/v1alpha2](https://github.com/kubernetes/kubernetes/tree/master/pkg/kubelet/apis/cri/runtime/v1alpha2)的api.proto中定义的。   

### CRI架构
> Container Runtime实现了CRI gRPC Server，包括RuntimeService和ImageService。该gRPC Server需要监听本地的Unix socket，而kubelet则作为gRPC Client运行。   
![cri-architecture](./images/cri-architecture.png)

